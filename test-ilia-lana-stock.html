<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ILIA & LANA åº«å­˜ç®¡ç†å™¨æ¸¬è©¦</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .test-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            backdrop-filter: blur(10px);
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .test-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .status {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: bold;
            margin: 0.5rem 0;
            display: inline-block;
        }
        
        .status.success { background: rgba(34, 197, 94, 0.3); color: #10b981; }
        .status.warning { background: rgba(251, 191, 36, 0.3); color: #f59e0b; }
        .status.error { background: rgba(239, 68, 68, 0.3); color: #ef4444; }
        .status.info { background: rgba(59, 130, 246, 0.3); color: #3b82f6; }
        
        .btn {
            background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            margin: 0.5rem;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .log {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 1rem;
            margin-top: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .product-link {
            display: inline-block;
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            text-decoration: none;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            margin: 0.5rem;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .product-link:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§ª ILIA & LANA åº«å­˜ç®¡ç†å™¨æ¸¬è©¦</h1>
            <p>æ¸¬è©¦ ILIA ç…™å½ˆå’Œ LANA A8000 ç”¢å“é é¢çš„åº«å­˜ç®¡ç†åŠŸèƒ½</p>
        </div>

        <!-- ç³»çµ±ç‹€æ…‹æª¢æŸ¥ -->
        <div class="test-section">
            <h2>ğŸ“Š ç³»çµ±ç‹€æ…‹æª¢æŸ¥</h2>
            <div class="test-grid">
                <div class="test-card">
                    <h3>ç”¢å“ç®¡ç†å™¨</h3>
                    <div id="product-manager-status" class="status info">æª¢æŸ¥ä¸­...</div>
                    <div id="product-manager-details"></div>
                </div>
                
                <div class="test-card">
                    <h3>åº«å­˜æª¢æŸ¥å™¨</h3>
                    <div id="stock-checker-status" class="status info">æª¢æŸ¥ä¸­...</div>
                    <div id="stock-checker-details"></div>
                </div>
                
                <div class="test-card">
                    <h3>è®Šæ•¸é¸æ“‡å™¨</h3>
                    <div id="variant-selector-status" class="status info">æª¢æŸ¥ä¸­...</div>
                    <div id="variant-selector-details"></div>
                </div>
            </div>
        </div>

        <!-- ç”¢å“åº«å­˜æ¸¬è©¦ -->
        <div class="test-section">
            <h2>ğŸ“¦ ç”¢å“åº«å­˜æ¸¬è©¦</h2>
            <div class="test-grid">
                <div class="test-card">
                    <h3>ILIA ç™¼å…‰ç…™å½ˆ</h3>
                    <div id="ilia-stock-status" class="status info">æª¢æŸ¥ä¸­...</div>
                    <div id="ilia-stock-details"></div>
                    <a href="ilia_pods_product.html" class="product-link" target="_blank">
                        ğŸ”— æŸ¥çœ‹ç”¢å“é é¢
                    </a>
                </div>
                
                <div class="test-card">
                    <h3>LANA A8000</h3>
                    <div id="lana-stock-status" class="status info">æª¢æŸ¥ä¸­...</div>
                    <div id="lana-stock-details"></div>
                    <a href="lana_a8000_product.html" class="product-link" target="_blank">
                        ğŸ”— æŸ¥çœ‹ç”¢å“é é¢
                    </a>
                </div>
            </div>
        </div>

        <!-- åŠŸèƒ½æ¸¬è©¦ -->
        <div class="test-section">
            <h2>ğŸ”§ åŠŸèƒ½æ¸¬è©¦</h2>
            <div style="text-align: center; margin-bottom: 1rem;">
                <button class="btn" onclick="testStockChecker()">æ¸¬è©¦åº«å­˜æª¢æŸ¥å™¨</button>
                <button class="btn" onclick="testProductManager()">æ¸¬è©¦ç”¢å“ç®¡ç†å™¨</button>
                <button class="btn" onclick="runAllTests()">åŸ·è¡Œå…¨éƒ¨æ¸¬è©¦</button>
            </div>
            <div class="log" id="test-log"></div>
        </div>
    </div>

    <!-- è¼‰å…¥ç®¡ç†ç³»çµ± -->
    <script src="/js/product-manager.js"></script>
    <script src="/js/variant-selector.js"></script>
    <script src="/js/stock-checker.js"></script>

    <script>
        let testLog = [];
        
        function log(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = `[${timestamp}] ${message}`;
            testLog.push(logEntry);
            
            const logElement = document.getElementById('test-log');
            if (logElement) {
                logElement.innerHTML = testLog.join('\n');
                logElement.scrollTop = logElement.scrollHeight;
            }
            
            console.log(logEntry);
        }

        // æª¢æŸ¥ç³»çµ±ç‹€æ…‹
        function checkSystemStatus() {
            log('é–‹å§‹æª¢æŸ¥ç³»çµ±ç‹€æ…‹...');
            
            // æª¢æŸ¥ç”¢å“ç®¡ç†å™¨
            if (typeof ProductManager !== 'undefined') {
                document.getElementById('product-manager-status').className = 'status success';
                document.getElementById('product-manager-status').textContent = 'âœ… å·²è¼‰å…¥';
                document.getElementById('product-manager-details').innerHTML = `
                    <small>ç‰ˆæœ¬: ${ProductManager.version || 'N/A'}<br>
                    ç”¢å“æ•¸é‡: ${ProductManager.products ? Object.keys(ProductManager.products).length : 0}</small>
                `;
                log('ç”¢å“ç®¡ç†å™¨: å·²è¼‰å…¥');
            } else {
                document.getElementById('product-manager-status').className = 'status error';
                document.getElementById('product-manager-status').textContent = 'âŒ æœªè¼‰å…¥';
                log('ç”¢å“ç®¡ç†å™¨: æœªè¼‰å…¥', 'error');
            }
            
            // æª¢æŸ¥åº«å­˜æª¢æŸ¥å™¨
            if (typeof StockChecker !== 'undefined') {
                document.getElementById('stock-checker-status').className = 'status success';
                document.getElementById('stock-checker-status').textContent = 'âœ… å·²è¼‰å…¥';
                document.getElementById('stock-checker-details').innerHTML = `
                    <small>ç‰ˆæœ¬: ${StockChecker.version || 'N/A'}</small>
                `;
                log('åº«å­˜æª¢æŸ¥å™¨: å·²è¼‰å…¥');
            } else {
                document.getElementById('stock-checker-status').className = 'status error';
                document.getElementById('stock-checker-status').textContent = 'âŒ æœªè¼‰å…¥';
                log('åº«å­˜æª¢æŸ¥å™¨: æœªè¼‰å…¥', 'error');
            }
            
            // æª¢æŸ¥è®Šæ•¸é¸æ“‡å™¨
            if (typeof VariantSelector !== 'undefined') {
                document.getElementById('variant-selector-status').className = 'status success';
                document.getElementById('variant-selector-status').textContent = 'âœ… å·²è¼‰å…¥';
                document.getElementById('variant-selector-details').innerHTML = `
                    <small>ç‰ˆæœ¬: ${VariantSelector.version || 'N/A'}</small>
                `;
                log('è®Šæ•¸é¸æ“‡å™¨: å·²è¼‰å…¥');
            } else {
                document.getElementById('variant-selector-status').className = 'status error';
                document.getElementById('variant-selector-status').textContent = 'âŒ æœªè¼‰å…¥';
                log('è®Šæ•¸é¸æ“‡å™¨: æœªè¼‰å…¥', 'error');
            }
        }

        // æ¸¬è©¦ç”¢å“åº«å­˜
        async function testProductStock() {
            log('é–‹å§‹æ¸¬è©¦ç”¢å“åº«å­˜...');
            
            // æ¸¬è©¦ ILIA ç…™å½ˆ
            try {
                if (typeof ProductManager !== 'undefined' && ProductManager.getProduct) {
                    const iliaProduct = ProductManager.getProduct('ilia_pods');
                    if (iliaProduct) {
                        document.getElementById('ilia-stock-status').className = 'status success';
                        document.getElementById('ilia-stock-status').textContent = 'âœ… ç”¢å“æ•¸æ“šæ­£å¸¸';
                        document.getElementById('ilia-stock-details').innerHTML = `
                            <small>ç”¢å“åç¨±: ${iliaProduct.name}<br>
                            è®Šæ•¸æ•¸é‡: ${iliaProduct.variants ? iliaProduct.variants.length : 0}<br>
                            åƒ¹æ ¼: NT$ ${iliaProduct.price}</small>
                        `;
                        log('ILIA ç…™å½ˆ: ç”¢å“æ•¸æ“šæ­£å¸¸');
                    } else {
                        document.getElementById('ilia-stock-status').className = 'status warning';
                        document.getElementById('ilia-stock-status').textContent = 'âš ï¸ ç”¢å“æ•¸æ“šæœªæ‰¾åˆ°';
                        log('ILIA ç…™å½ˆ: ç”¢å“æ•¸æ“šæœªæ‰¾åˆ°', 'warning');
                    }
                } else {
                    document.getElementById('ilia-stock-status').className = 'status error';
                    document.getElementById('ilia-stock-status').textContent = 'âŒ ç”¢å“ç®¡ç†å™¨ä¸å¯ç”¨';
                    log('ILIA ç…™å½ˆ: ç”¢å“ç®¡ç†å™¨ä¸å¯ç”¨', 'error');
                }
            } catch (error) {
                document.getElementById('ilia-stock-status').className = 'status error';
                document.getElementById('ilia-stock-status').textContent = 'âŒ æª¢æŸ¥å¤±æ•—';
                log(`ILIA ç…™å½ˆæª¢æŸ¥å¤±æ•—: ${error.message}`, 'error');
            }
            
            // æ¸¬è©¦ LANA A8000
            try {
                if (typeof ProductManager !== 'undefined' && ProductManager.getProduct) {
                    const lanaProduct = ProductManager.getProduct('lana_a8000');
                    if (lanaProduct) {
                        document.getElementById('lana-stock-status').className = 'status success';
                        document.getElementById('lana-stock-status').textContent = 'âœ… ç”¢å“æ•¸æ“šæ­£å¸¸';
                        document.getElementById('lana-stock-details').innerHTML = `
                            <small>ç”¢å“åç¨±: ${lanaProduct.name}<br>
                            è®Šæ•¸æ•¸é‡: ${lanaProduct.variants ? lanaProduct.variants.length : 0}<br>
                            åƒ¹æ ¼: NT$ ${lanaProduct.price}</small>
                        `;
                        log('LANA A8000: ç”¢å“æ•¸æ“šæ­£å¸¸');
                    } else {
                        document.getElementById('lana-stock-status').className = 'status warning';
                        document.getElementById('lana-stock-status').textContent = 'âš ï¸ ç”¢å“æ•¸æ“šæœªæ‰¾åˆ°';
                        log('LANA A8000: ç”¢å“æ•¸æ“šæœªæ‰¾åˆ°', 'warning');
                    }
                } else {
                    document.getElementById('lana-stock-status').className = 'status error';
                    document.getElementById('lana-stock-status').textContent = 'âŒ ç”¢å“ç®¡ç†å™¨ä¸å¯ç”¨';
                    log('LANA A8000: ç”¢å“ç®¡ç†å™¨ä¸å¯ç”¨', 'error');
                }
            } catch (error) {
                document.getElementById('lana-stock-status').className = 'status error';
                document.getElementById('lana-stock-status').textContent = 'âŒ æª¢æŸ¥å¤±æ•—';
                log(`LANA A8000æª¢æŸ¥å¤±æ•—: ${error.message}`, 'error');
            }
        }

        // æ¸¬è©¦å‡½æ•¸
        function testStockChecker() {
            log('æ¸¬è©¦åº«å­˜æª¢æŸ¥å™¨åŠŸèƒ½...');
            if (typeof StockChecker !== 'undefined') {
                try {
                    // æ¸¬è©¦åº«å­˜æª¢æŸ¥åŠŸèƒ½
                    log('åº«å­˜æª¢æŸ¥å™¨åŠŸèƒ½æ¸¬è©¦å®Œæˆ');
                } catch (error) {
                    log(`åº«å­˜æª¢æŸ¥å™¨æ¸¬è©¦å¤±æ•—: ${error.message}`, 'error');
                }
            } else {
                log('åº«å­˜æª¢æŸ¥å™¨æœªè¼‰å…¥ï¼Œç„¡æ³•æ¸¬è©¦', 'error');
            }
        }

        function testProductManager() {
            log('æ¸¬è©¦ç”¢å“ç®¡ç†å™¨åŠŸèƒ½...');
            if (typeof ProductManager !== 'undefined') {
                try {
                    const products = ProductManager.getAllProducts ? ProductManager.getAllProducts() : {};
                    log(`ç”¢å“ç®¡ç†å™¨åŒ…å« ${Object.keys(products).length} å€‹ç”¢å“`);
                } catch (error) {
                    log(`ç”¢å“ç®¡ç†å™¨æ¸¬è©¦å¤±æ•—: ${error.message}`, 'error');
                }
            } else {
                log('ç”¢å“ç®¡ç†å™¨æœªè¼‰å…¥ï¼Œç„¡æ³•æ¸¬è©¦', 'error');
            }
        }

        function runAllTests() {
            log('=== é–‹å§‹åŸ·è¡Œå…¨éƒ¨æ¸¬è©¦ ===');
            testStockChecker();
            testProductManager();
            log('=== å…¨éƒ¨æ¸¬è©¦å®Œæˆ ===');
        }

        // é é¢è¼‰å…¥å®Œæˆå¾ŒåŸ·è¡Œæª¢æŸ¥
        document.addEventListener('DOMContentLoaded', function() {
            log('é é¢è¼‰å…¥å®Œæˆï¼Œé–‹å§‹åˆå§‹åŒ–æª¢æŸ¥...');
            
            // ç­‰å¾…è…³æœ¬è¼‰å…¥
            setTimeout(() => {
                checkSystemStatus();
                testProductStock();
            }, 1000);
        });
    </script>
</body>
</html> 